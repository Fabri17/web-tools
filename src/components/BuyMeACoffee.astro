---
interface Props {
  bmcUsername?: string;
  className?: string;
}

const { 
  bmcUsername = "tuusuario", // Reemplaza con tu username de Buy Me a Coffee
  className = ""
} = Astro.props;

// URL de Buy Me a Coffee
const bmcUrl = `https://www.buymeacoffee.com/${bmcUsername}`;
---

<div class={`buy-me-coffee ${className}`}>
  <div class="coffee-card">
    <div class="coffee-content">
      <svg class="coffee-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M18 8h1a4 4 0 0 1 0 8h-1"></path>
        <path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"></path>
        <line x1="6" y1="1" x2="6" y2="4"></line>
        <line x1="10" y1="1" x2="10" y2="4"></line>
        <line x1="14" y1="1" x2="14" y2="4"></line>
      </svg>
      
      <div class="text-content">
        <p class="main-text">¿Te resulta útil?</p>
        <p class="sub-text">Apoya el proyecto</p>
      </div>
      
      <a 
        href={bmcUrl}
        target="_blank"
        rel="noopener noreferrer"
        class="donate-button"
        aria-label="Buy me a coffee"
      >
        <svg class="coffee-cup-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
          <path d="M20.216 6.415l-.132-.666c-.119-.598-.388-1.163-1.001-1.379-.197-.069-.42-.098-.57-.241-.152-.143-.196-.366-.231-.572-.065-.378-.125-.756-.192-1.133-.057-.325-.102-.69-.25-.987-.195-.4-.597-.634-.996-.788a5.723 5.723 0 00-.626-.194c-1-.263-2.05-.36-3.077-.416a25.834 25.834 0 00-3.7.062c-.915.083-1.88.184-2.75.5-.318.116-.646.256-.888.501-.297.302-.393.77-.177 1.146.154.267.415.456.692.58.36.162.737.284 1.123.366 1.075.238 2.189.331 3.287.37 1.218.05 2.437.01 3.65-.118.299-.033.598-.073.896-.119.352-.054.578-.513.474-.834-.124-.383-.457-.531-.834-.473-.466.074-.96.108-1.382.146-1.177.08-2.358.082-3.536.006a22.228 22.228 0 01-1.157-.107c-.086-.01-.18-.025-.258-.036-.243-.036-.484-.08-.724-.13-.111-.027-.111-.185 0-.212h.005c.277-.06.557-.108.838-.147h.002c.131-.009.263-.032.394-.048a25.076 25.076 0 013.426-.12c.674.019 1.347.067 2.017.144l.228.031c.267.04.533.088.798.145.392.085.895.113 1.07.542.055.137.08.288.111.431l.319 1.484a.237.237 0 01-.199.284h-.003c-.037.006-.075.01-.112.015a36.704 36.704 0 01-4.743.295 37.059 37.059 0 01-4.699-.304c-.14-.017-.293-.042-.417-.06-.326-.048-.649-.108-.973-.161-.393-.065-.768-.032-1.123.161-.29.16-.527.404-.675.701-.154.316-.199.66-.267 1-.069.34-.176.707-.135 1.056.087.753.613 1.365 1.37 1.502a39.69 39.69 0 0011.343.376.483.483 0 01.535.53l-.071.697-1.018 9.907c-.041.41-.047.832-.125 1.237-.122.637-.553 1.028-1.182 1.171-.577.131-1.165.2-1.756.205-.656.004-1.31-.025-1.966-.022-.699.004-1.556-.06-2.095-.58-.475-.458-.54-1.174-.605-1.793l-.731-7.013-.322-3.094c-.037-.351-.286-.695-.678-.678-.336.015-.718.3-.678.679l.228 2.185.949 9.112c.147 1.344 1.174 2.068 2.446 2.272.742.12 1.503.144 2.257.156.966.016 1.942.053 2.892-.122 1.408-.258 2.465-1.198 2.616-2.657.34-3.332.683-6.663 1.024-9.995l.215-2.087a.484.484 0 01.39-.426c.402-.078.787-.212 1.074-.518.455-.488.546-1.124.385-1.766zm-1.478.772c-.145.137-.363.201-.578.233-2.416.359-4.866.54-7.308.46-1.748-.058-3.477-.254-5.207-.498-.17-.024-.353-.055-.47-.18-.22-.236-.111-.71-.054-.995.052-.26.152-.609.463-.646.484-.057 1.046.148 1.526.22.577.088 1.156.159 1.737.212 2.48.226 5.002.19 7.472-.14.45-.06.899-.13 1.345-.21.399-.072.84-.206 1.08.206.166.281.188.657.162.974a.544.544 0 01-.169.364z"/>
        </svg>
        <span>Invítame un café</span>
      </a>
    </div>
  </div>
</div>

<style>
  .buy-me-coffee {
    width: 100%;
    padding: 1rem;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .coffee-card {
    background: rgba(255, 255, 255, 0.6);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(139, 92, 246, 0.1);
    border-radius: 12px;
    padding: 1rem 1.5rem;
    max-width: 600px;
    width: 100%;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    transition: all 0.3s ease;
  }

  .coffee-card:hover {
    border-color: rgba(139, 92, 246, 0.3);
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.1);
  }

  .coffee-content {
    display: flex;
    align-items: center;
    gap: 1rem;
    justify-content: space-between;
  }

  .coffee-icon {
    width: 32px;
    height: 32px;
    color: #8b5cf6;
    flex-shrink: 0;
  }

  .text-content {
    flex: 1;
    min-width: 0;
  }

  .main-text {
    font-size: 0.95rem;
    font-weight: 600;
    color: #1f2937;
    margin: 0;
    line-height: 1.4;
  }

  .sub-text {
    font-size: 0.8rem;
    color: #6b7280;
    margin: 0;
    line-height: 1.4;
  }

  .donate-button {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    background: #FFDD00;
    color: #000000;
    text-decoration: none;
    padding: 0.5rem 1rem;
    border-radius: 8px;
    font-weight: 600;
    font-size: 0.875rem;
    transition: all 0.2s ease;
    white-space: nowrap;
    flex-shrink: 0;
  }

  .donate-button:hover {
    background: #FFED4E;
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(255, 221, 0, 0.3);
  }

  .coffee-cup-icon {
    width: 18px;
    height: 18px;
  }

  /* Responsive */
  @media (max-width: 640px) {
    .coffee-card {
      padding: 1rem;
    }

    .coffee-content {
      flex-direction: column;
      text-align: center;
      gap: 0.75rem;
    }

    .coffee-icon {
      width: 28px;
      height: 28px;
    }

    .donate-button {
      width: 100%;
      justify-content: center;
      padding: 0.625rem 1rem;
    }
  }

  /* Dark mode */
  @media (prefers-color-scheme: dark) {
    .coffee-card {
      background: rgba(31, 41, 55, 0.6);
      border-color: rgba(139, 92, 246, 0.2);
    }

    .coffee-card:hover {
      border-color: rgba(139, 92, 246, 0.4);
    }

    .main-text {
      color: #f3f4f6;
    }

    .sub-text {
      color: #9ca3af;
    }
  }
</style>
